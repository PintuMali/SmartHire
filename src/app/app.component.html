<ion-app>
  <ion-menu contentId="main" id="home" side="start">
    <ion-header>
      <ion-toolbar>
        <ion-menu-toggle slot="primary">

          <ion-button fill="clear">
            <ion-icon name="close-outline" slot="icon-only"></ion-icon>
          </ion-button>

        </ion-menu-toggle>

        <ion-title class="ion-padding-top"><ion-img [src]="images[1].imageUrl"></ion-img></ion-title>
      </ion-toolbar>
      <ion-card>
        <ion-card-header>
          <ion-menu-toggle>
            <ion-item>
              <ion-icon slot="start" name="person-circle-outline" style="font-size: 30px;"></ion-icon>
              <ion-label>
                <h1>{{this.firstname}} {{this.lastname}}</h1>
              </ion-label>
            </ion-item>
            <ion-item>
              <ion-label>
                <h3>{{this.email}}</h3>
              </ion-label>
            </ion-item>
          </ion-menu-toggle>
          <ion-menu-toggle>
          </ion-menu-toggle>
        </ion-card-header>
      </ion-card>
    </ion-header>
    <ion-content>
      <ion-card>
        <ion-card-header>
          <ion-card-subtitle style="font-size: 1.2em;">HELP & SUPPORT</ion-card-subtitle>
          <ion-menu-toggle>
            <ion-item lines="none" routerLink="/help-center">
              <ion-icon slot="start" name="help-circle-outline"></ion-icon>
              <ion-label>Help Center</ion-label>
            </ion-item></ion-menu-toggle>

          <ion-menu-toggle>
            <ion-item lines="none"  routerLink="/reportcomplaint">
              <ion-icon slot="start" name="chatbox-ellipses-outline"></ion-icon>
              <ion-label>Report a Complaint</ion-label>
            </ion-item>
            <ion-item lines="none">
              <ion-icon slot="start" name="alert-circle-outline"></ion-icon>
              <ion-label>About</ion-label>
            </ion-item>
            <ion-item lines="none" (click)="onSettings(true)" button>
              <ion-icon name="settings-outline" slot="start"></ion-icon>
              <ion-label>Settings</ion-label>
            </ion-item>
            <ion-item lines="none" (click)="onLogout()" button>
              <ion-icon name="exit" slot="start"></ion-icon>
              <ion-label>Logout</ion-label>
            </ion-item>
          </ion-menu-toggle>
        </ion-card-header>
      </ion-card>
      <ion-modal [isOpen]="isModalOpen">
        <ng-template>
          <ion-header>
            <ion-toolbar>
              <ion-title>Settings</ion-title>
              <ion-buttons slot="end">
                <ion-button (click)="onSettings(false)">Close</ion-button>
              </ion-buttons>
            </ion-toolbar>
          </ion-header>
          <ion-content>
                  <ion-item (click)="onDelete()" class="ion-margin-top">
                    <ion-thumbnail>
                      <ion-img src="../assets/images/delete_icon.svg"></ion-img>
                    </ion-thumbnail>
              <ion-card-header>
                Delete Account
              </ion-card-header>
              <ion-card-content>
                Action cannot be undone
              </ion-card-content>
            </ion-item>
            <ion-item (click)="onChangePassword(true)" class="ion-margin-top">
              <ion-thumbnail>
                <ion-img src="../assets/images/password_change.svg"></ion-img>
              </ion-thumbnail>
        <ion-card-header>
          Change Password
        </ion-card-header>
        <ion-card-content>
          Click to change the password
        </ion-card-content>
      </ion-item>
          </ion-content>
        </ng-template>
      </ion-modal>
      <ion-modal [isOpen]="isModalOpen2">
        <ng-template>
          <ion-header>
            <ion-toolbar>
              <ion-title>Change Password</ion-title>
              <ion-buttons slot="end">
                <ion-button (click)="onChangePassword(false)">Close</ion-button>
              </ion-buttons>
            </ion-toolbar>
          </ion-header>
          <ion-content>
            <form #f="ngForm" (ngSubmit)="onSubmit(f)">
              <ion-grid>
                <ion-row>
                  <ion-col size="8" offset="2" size-sm="6" offset-sm="3" size-md="4" offset-md="4" size-lg="4" offset-lg="4">
                    <ion-img [src]="images[1].imageUrl"></ion-img>
                  </ion-col>
                </ion-row>
                <ion-row>
                  <ion-col>
                    <ion-list>
                    <ion-item>
                      <ion-label position="floating">New Password</ion-label>
                      <ion-input type="password" ngModel name="newPassword" required minlength="6" #newPasswordCtrl="ngModel" pattern="(?=.*[!@#$%^&*])(?=.*[0-9]).{6,}"></ion-input>
                    </ion-item>
                    <ion-item *ngIf="!newPasswordCtrl.valid&&newPasswordCtrl.touched" lines="none">
                      Should contain at least one special character, number and be at least 6 characters long
                    </ion-item>
                  </ion-list>
                  </ion-col>
                </ion-row>
                <ion-row>
                  <ion-col>
                    <ion-button type="submit" color="primary" expand="block" [disabled]="!f.valid">Submit</ion-button>
                  </ion-col>
                </ion-row>
              </ion-grid>
              </form>
          </ion-content>
        </ng-template>
      </ion-modal>
    </ion-content>
  </ion-menu>
  <ion-router-outlet id="main"></ion-router-outlet>
</ion-app>
